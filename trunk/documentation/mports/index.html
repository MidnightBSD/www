<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
		<title>MidnightBSD mports Documentation</title>
		<!-- $MidnightBSD: www/documentation/mports/index.html,v 1.12 2011/11/08 22:41:11 laffer1 Exp $ -->
		<link rel="shortcut icon" href="/favicon.ico" />
<!--[if IE 5]><link rel="stylesheet" type="text/css" href="../../css/ihateie5.css" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" type="text/css" href="../../css/ihateie6.css" /><![endif]-->
		<style type="text/css" media="all">
			@import url("../../css/essence.css");
		</style>
</head>

<body>
	<div id="globe">
		<div id="header"><h1 title="MidnightBSD Home"><a href="../../" title="MidnightBSD Home">MidnightBSD: The BSD For Everyone</a></h1></div>
		<!--#include virtual="/menu.html"-->
		<div class="clear"></div>
		<div id="text">
			<h2><img src="../../images/oxygen/doc32.png" alt="Text Document Icon" /> mports Documentation</h2>			
				<div id="toc">
					<h3>Contents</h3>
					<ul>
						<li><a href="#s1a"><strong>Introduction</strong></a></li>
						<li><a href="#s2a"><strong>Using mports</strong></a></li>
						<li><a href="#s3a"><strong>History</strong></a></li>
						<li><a href="#s4a"><strong>Future directions</strong></a></li>
						<li>Further Reading
						<ul>
						    <li><a href="bsd.port.mk.html"><strong>bsd.port.mk</strong></a></li>
							<li><a href="fake.html"><strong>Fake</strong></a></li>
							<li><a href="policy.html"><strong>Policy</strong></a></li>
						</ul>
						</li>
					</ul>
				</div>
	
 <h3 id="s1a">Introduction</h3>
 
 <p>mports is the MidnightBSD ports collection.  It contains hundreds of ported software applications
 ready to use on MidnightBSD.  mports simplifies installing software packages on your desktop system.</p>
 
 <p>In the future, mports will also include precompiled packages to speed up the installation process.  An
 automated software update system is planned.  There are a few precompiled software packages on the
 MidnightBSD FTP server.</p>
 
 <h3 id="s2a">Using mports</h3>
 
 <p>You can install mports during the installation of MidnightBSD.  If you forgot to do so, you may download
 the latest mports by using <em>cvsup</em> or <em>cvs</em>.  Execute the command <br />cvsup /usr/share/examples/cvsup/mports-supfile<br />
 to download the mports.  Alternatively, you can use <br />
 mkdir /usr/mports<br />
 cd /usr<br />
 cvs -z 7 -d anoncvs@stargazer.midnightbsd.org:/home/cvs co mports</p>
 
 <p>Updating mports periodically is recommended.  New versions of software and additional software are added all the time.  
 Keeping up to date will help you maintain best security practices and possibly give you new features
 and functionality or bug fixes. </p>
 
 <p>To install an mport, simply do the following:
 <br />cd /usr/mports
 <br />Pick a category from the file system list or use make search key=term where term is what you want to search for.  Once you 
 have the mport, you can type make install clean to install it and clean up the compiling mess.  
 </p>
 
 <p>It is recommended that you install mports/sysutils/portupgrade at your convenience.  It will allow you to
 upgrade mports and install mports much easier.  You can simply type portinstall portname to install a port called portname.  It 
 can speed up the process considerably.</p>
 
 <p>To uninstall a port, simply goto the directory of the mport and type make deinstall</p>
 
 <p>There are also utilities like pkg_add, pkg_delete and so forth included in the base system.  pkg_add -r portname can fetch a 
 precompiled package from the MidnightBSD server and install it for you.  You can also install your own packages.  There are many 
 possibilities.</p>
 
 <h3 id="s3a">History</h3>
 
 <p>MidnightBSD uses the FreeBSD ports collection.  Over time it has begun to diverge.  Several projects have been influential 
 in the design of the mports system, notably OpenBSD.</p>
 
 <p>The initial import of mports was done by our security officer, archite.  mports maintainership was transfered
 to wintellect after some initial work by laffer1.  A massive restructuring of the mports system was done
 by Chris Reinhardt (ctriv).  Now the entire system creates ports in a staging directory called the fake dir.  A
 port is built in the working directory work/ inside the ports directory.  Then during the faking stage (before install occurs)
 it is &quot;installed&quot; into the fake dir which is a combination of the word fake the target arch and a few other nits.  It is
 the job of the mports maintainer to fix any bugs with this faking procedure.  It is more work up front, but it means that all
 ports are installed from packages and therefore all packages must work.  This is quite innovative compared to the FreeBSD maybe it works
 as a package approach, but other projects like OpenBSD have been doing something similar for quite some time.</p>
 
 <p>Currently, all commiters have access to add and modify mports. 
 You may contact any commiter about mports problems or additions.  For infrastructure questions or concerns, 
 direct them to ctriv.  (use the alias at midnightbsd.org)</p>
 
 <h3>Differences Between FreeBSD's ports and mports</h3>
 
 <p>FreeBSD's ports install directly into the system at install time, mports however uses a process 
 called &quot;fake&quot; to make a package and then installs that package.  This simplifies the logic of the ports system. 
 Code does not need to be duplicated for installation from the port and installation from the package.  The change is very recent, 
 and at this time we are still testing the port tree to insure that all ports function properly under the &quot;fake&quot; system.</p>
 
 <p>For information on common reasons for &quot;fake&quot; errors, see the 
 <a href="fake.html">fake transition page</a>.</p>
 
 <p>Mport is endeavoring to be more standardized than the FreeBSD ports tree.  
 See the <a href="policy.html">policy page</a> for information on current port standards.</p>

 <p>MidnightBSD introduced the LICENSE variable years before FreeBSD's new LICENSE framework for ports.  We got the idea from
some of the other BSD projects.  Our system does not handle multiple license types as yet (we have an agg type), and ours is
indexed into the build cluster software so that our mport tools can later display licensing information with 
<code>mport info <i>pkgname</i></code>.
</p>
 
 <h3 id="s4a">Future Directions</h3>
 
 <ul>
 <li>A new package scheme is early planning.  It would be based on FreeBSD's package system, but have several new features 
 such as support for bundled packages (several packages in one package), cryptographically signed packages, native option support, 
 and a radically improved package database using sqlite3 as a backend. (libmport)</li>
 
 <li>A package distribution system along the lines of apt-get or CPAN.</li>
 
 <li>The MidnightBSD Project will add a graphical mports management application in future versions with 
 automatic software update functionality as well as base system software updating.</li>
 
 <li>As time goes by we are trying to simplify the mports system.  FreeBSD's ports have years of backwards compatibly code and 
 many features that we simply don't need.</li>
 </ul>

<p>The libmport and mport tools were imported into 0.3-CURRENT for testing.  As of 0.4-CURRENT (os version 4004), mport tools support
fetching packages, updating, upgrade of all system packages, deleting packages, listing packages needing to be updated, search, and info on
a package. The new system will allow us to update packages after a release.  Discussion on generating new packages or branching the mports
tree to only provide security updates has yet to occur.</p>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'midnightbsd'; 
    
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
	</div>
		<!--#include virtual="/footer.html"-->
</body>
</html>
